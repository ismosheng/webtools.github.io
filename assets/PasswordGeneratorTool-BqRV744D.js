import{T as I}from"./ToolHeader-CSAKN2xS.js";import"./CodeMirrorEditor.vue_vue_type_style_index_0_scoped_202dc1f2_lang-NccLibSq.js";import{_ as J,e as c,q as K,f as P,g as O,c as Q,w as h,s as R,r as p,o as y,a as n,b as l,i as z,j as A,d as M,t as T,F as W,y as X}from"./index-CKlJhNh4.js";const Y={class:"password-generator__body"},ee={class:"password-config"},te={class:"config-section"},le={class:"config-row"},se={class:"config-item"},oe={class:"config-item"},ae={class:"config-section"},ne={class:"config-options"},re={key:0,class:"config-section"},ie={class:"config-actions"},de={class:"password-results"},ue={class:"results-header"},ce={class:"results-subtitle"},ve={key:0,class:"average-strength"},me={class:"passwords-list"},he={class:"password-item__content"},pe={class:"password-text"},ge={class:"password-strength"},fe={class:"password-item__actions"},_e={key:0,class:"empty-state"},S="ABCDEFGHIJKLMNOPQRSTUVWXYZ",N="abcdefghijklmnopqrstuvwxyz",Z="0123456789",ye="!@#$%^&*()_+-=[]{}|;:,.<>?",be={__name:"PasswordGeneratorTool",setup(Ve){const b=c(5),g=c(16),V=c(!0),w=c(!0),C=c(!0),f=c(!0),_=c("!@#$%^&*()_+-=[]{}|;:,.<>?"),d=c([]);c(15);const{isDark:j}=K(),q=P(()=>({"text-tool":!0,"text-tool--dark":j.value,"text-tool--light":!j.value})),B=P(()=>{let t="";return V.value&&(t+=S),w.value&&(t+=N),C.value&&(t+=Z),f.value&&(t+=_.value||ye),t}),E=()=>{const t=B.value;if(!t)throw new Error("请至少选择一种字符类型");let e="";const a=t.split(""),r=[];if(V.value&&r.push(S[Math.floor(Math.random()*S.length)]),w.value&&r.push(N[Math.floor(Math.random()*N.length)]),C.value&&r.push(Z[Math.floor(Math.random()*Z.length)]),f.value&&_.value){const s=_.value.split("");r.push(s[Math.floor(Math.random()*s.length)])}r.forEach(s=>{e+=s});for(let s=e.length;s<g.value;s++)e+=a[Math.floor(Math.random()*a.length)];return e.split("").sort(()=>Math.random()-.5).join("")},U=()=>{try{const t=[];for(let e=0;e<b.value;e++)t.push(E());d.value=t}catch(t){console.error("生成密码失败:",t),d.value=[]}},L=t=>{let e=0,a=[];t.length>=8&&(e+=1),t.length>=12&&(e+=1),t.length>=16&&(e+=1),t.length>=20&&(e+=1),/[a-z]/.test(t)&&(e+=1),/[A-Z]/.test(t)&&(e+=1),/[0-9]/.test(t)&&(e+=1),/[^a-zA-Z0-9]/.test(t)&&(e+=1),new Set(t).size/t.length>.7&&(e+=1),t.length<8&&a.push("密码太短"),/[a-z]/.test(t)||a.push("缺少小写字母"),/[A-Z]/.test(t)||a.push("缺少大写字母"),/[0-9]/.test(t)||a.push("缺少数字"),/[^a-zA-Z0-9]/.test(t)||a.push("缺少特殊字符");let s="weak",i="弱",v="error",m=0;return e<=3?(s="weak",i="弱",v="error",m=25):e<=5?(s="fair",i="一般",v="warning",m=50):e<=7?(s="good",i="良好",v="info",m=75):(s="strong",i="强",v="success",m=100),{score:e,strength:s,strengthText:i,strengthColor:v,strengthPercent:m,feedback:a}},u=P(()=>d.value.map(t=>L(t))),x=P(()=>{if(u.value.length===0)return null;const t=u.value.reduce((s,i)=>s+i.score,0)/u.value.length,e=u.value.reduce((s,i)=>s+i.strengthPercent,0)/u.value.length;let a="弱",r="error";return t<=3?(a="弱",r="error"):t<=5?(a="一般",r="warning"):t<=7?(a="良好",r="info"):(a="强",r="success"),{strengthText:a,strengthColor:r,strengthPercent:Math.round(e)}}),$=async t=>{if(t)try{await navigator.clipboard.writeText(t)}catch(e){console.error(e)}},D=async()=>{if(d.value.length!==0)try{const t=d.value.join(`
`);await navigator.clipboard.writeText(t)}catch(t){console.error(t)}},F=()=>{d.value=[]};return O([g,V,w,C,f,_],()=>{d.value.length>0&&U()}),U(),(t,e)=>{const a=p("v-text-field"),r=p("v-slider"),s=p("v-checkbox"),i=p("v-btn"),v=p("v-chip"),m=p("v-progress-linear"),G=p("v-icon"),H=p("v-sheet");return y(),Q(H,{class:R(q.value),rounded:"xl",elevation:"0"},{default:h(()=>[n(I,{icon:"mdi-key-variant",color:"amber",title:"密码生成器",description:"生成安全、随机的密码，支持自定义字符类型和特殊符号，实时显示强度评估。"}),l("div",Y,[l("section",ee,[l("div",te,[e[11]||(e[11]=l("div",{class:"config-section__title"},"生成设置",-1)),l("div",le,[l("div",se,[e[9]||(e[9]=l("label",{class:"config-label"},"生成数量",-1)),n(r,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=o=>b.value=o),min:1,max:20,step:1,"show-ticks":"always","tick-size":"4",class:"config-slider"},{append:h(()=>[n(a,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=o=>b.value=o),type:"number",density:"compact",variant:"outlined",style:{width:"80px"},min:1,max:20,"hide-details":""},null,8,["modelValue"])]),_:1},8,["modelValue"])]),l("div",oe,[e[10]||(e[10]=l("label",{class:"config-label"},"密码长度",-1)),n(r,{modelValue:g.value,"onUpdate:modelValue":e[3]||(e[3]=o=>g.value=o),min:4,max:64,step:1,"show-ticks":"always","tick-size":"4",class:"config-slider"},{append:h(()=>[n(a,{modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=o=>g.value=o),type:"number",density:"compact",variant:"outlined",style:{width:"80px"},min:4,max:64,"hide-details":""},null,8,["modelValue"])]),_:1},8,["modelValue"])])])]),l("div",ae,[e[12]||(e[12]=l("div",{class:"config-section__title"},"字符类型",-1)),l("div",ne,[n(s,{modelValue:V.value,"onUpdate:modelValue":e[4]||(e[4]=o=>V.value=o),label:"大写字母 (A-Z)",density:"compact",color:"primary","hide-details":""},null,8,["modelValue"]),n(s,{modelValue:w.value,"onUpdate:modelValue":e[5]||(e[5]=o=>w.value=o),label:"小写字母 (a-z)",density:"compact",color:"primary","hide-details":""},null,8,["modelValue"]),n(s,{modelValue:C.value,"onUpdate:modelValue":e[6]||(e[6]=o=>C.value=o),label:"数字 (0-9)",density:"compact",color:"primary","hide-details":""},null,8,["modelValue"]),n(s,{modelValue:f.value,"onUpdate:modelValue":e[7]||(e[7]=o=>f.value=o),label:"特殊符号",density:"compact",color:"primary","hide-details":""},null,8,["modelValue"])])]),f.value?(y(),z("div",re,[e[13]||(e[13]=l("div",{class:"config-section__title"},"自定义特殊符号",-1)),n(a,{modelValue:_.value,"onUpdate:modelValue":e[8]||(e[8]=o=>_.value=o),label:"特殊符号字符集",variant:"outlined",density:"comfortable",placeholder:"!@#$%^&*()_+-=[]{}|;:,.<>?",hint:"输入要使用的特殊符号，留空则使用默认符号集","persistent-hint":""},null,8,["modelValue"])])):A("",!0),l("div",ie,[n(i,{color:"primary",variant:"flat",size:"large","prepend-icon":"mdi-refresh",onClick:U},{default:h(()=>[...e[14]||(e[14]=[M(" 重新生成 ",-1)])]),_:1}),n(i,{variant:"outlined",size:"large","prepend-icon":"mdi-content-copy",disabled:d.value.length===0,onClick:D},{default:h(()=>[...e[15]||(e[15]=[M(" 复制全部 ",-1)])]),_:1},8,["disabled"]),n(i,{variant:"text",size:"large","prepend-icon":"mdi-eraser",disabled:d.value.length===0,onClick:F},{default:h(()=>[...e[16]||(e[16]=[M(" 清空 ",-1)])]),_:1},8,["disabled"])])]),l("section",de,[l("div",ue,[l("div",null,[e[17]||(e[17]=l("div",{class:"results-title"},"生成的密码",-1)),l("div",ce,"共 "+T(d.value.length)+" 个密码",1)]),x.value?(y(),z("div",ve,[e[18]||(e[18]=l("span",{class:"strength-label"},"平均强度：",-1)),n(v,{color:x.value.strengthColor,variant:"flat",size:"small"},{default:h(()=>[M(T(x.value.strengthText),1)]),_:1},8,["color"]),n(m,{"model-value":x.value.strengthPercent,color:x.value.strengthColor,height:"6",rounded:"",class:"strength-progress"},null,8,["model-value","color"])])):A("",!0)]),l("div",me,[(y(!0),z(W,null,X(d.value,(o,k)=>(y(),z("div",{key:k,class:"password-item"},[l("div",he,[l("div",pe,T(o),1),l("div",ge,[n(v,{color:u.value[k].strengthColor,variant:"flat",size:"x-small",class:"me-2"},{default:h(()=>[M(T(u.value[k].strengthText),1)]),_:2},1032,["color"]),n(m,{"model-value":u.value[k].strengthPercent,color:u.value[k].strengthColor,height:"4",rounded:"",style:{width:"100px"}},null,8,["model-value","color"])])]),l("div",fe,[n(i,{icon:"mdi-content-copy",size:"small",variant:"text",onClick:we=>$(o),title:"复制密码"},null,8,["onClick"])])]))),128))]),d.value.length===0?(y(),z("div",_e,[n(G,{icon:"mdi-key-off",size:"48",class:"mb-4"}),e[19]||(e[19]=l("div",{class:"text-body-1"},'点击"重新生成"按钮生成密码',-1))])):A("",!0)])])]),_:1},8,["class"])}}},ze=J(be,[["__scopeId","data-v-cb455a87"]]);export{ze as default};
