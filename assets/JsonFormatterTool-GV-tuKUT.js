import{T as Te}from"./ToolHeader-CSAKN2xS.js";import{C as he}from"./CodeMirrorEditor-B0PIeTbH.js";import{k as _e,g as je,e as X,l as Pe,m as Ee,p as Ae,a as $,d as Fe,f as ne,F as Ie,_ as Be,q as ze,c as ie,w as Me,s as De,r as ce,o as Q,b as B,t as ue,i as W,n as ve,u as He}from"./index-CKlJhNh4.js";import"./CodeMirrorEditor.vue_vue_type_style_index_0_scoped_202dc1f2_lang-NccLibSq.js";var $e={207:(e,n,r)=>{e.exports=r(452)},452:e=>{var n=(function(r){var l,C=Object.prototype,N=C.hasOwnProperty,T=typeof Symbol=="function"?Symbol:{},p=T.iterator||"@@iterator",O=T.asyncIterator||"@@asyncIterator",x=T.toStringTag||"@@toStringTag";function _(t,o,c){return Object.defineProperty(t,o,{value:c,enumerable:!0,configurable:!0,writable:!0}),t[o]}try{_({},"")}catch{_=function(o,c,v){return o[c]=v}}function z(t,o,c,v){var s=o&&o.prototype instanceof M?o:M,w=Object.create(s.prototype),j=new d(v||[]);return w._invoke=(function(P,A,h){var V=U;return function(F,ee){if(V===H)throw new Error("Generator is already running");if(V===S){if(F==="throw")throw ee;return b()}for(h.method=F,h.arg=ee;;){var oe=h.delegate;if(oe){var le=J(oe,h);if(le){if(le===L)continue;return le}}if(h.method==="next")h.sent=h._sent=h.arg;else if(h.method==="throw"){if(V===U)throw V=S,h.arg;h.dispatchException(h.arg)}else h.method==="return"&&h.abrupt("return",h.arg);V=H;var te=D(P,A,h);if(te.type==="normal"){if(V=h.done?S:K,te.arg===L)continue;return{value:te.arg,done:h.done}}te.type==="throw"&&(V=S,h.method="throw",h.arg=te.arg)}}})(t,c,j),w}function D(t,o,c){try{return{type:"normal",arg:t.call(o,c)}}catch(v){return{type:"throw",arg:v}}}r.wrap=z;var U="suspendedStart",K="suspendedYield",H="executing",S="completed",L={};function M(){}function G(){}function I(){}var q={};_(q,p,(function(){return this}));var k=Object.getPrototypeOf,y=k&&k(k(m([])));y&&y!==C&&N.call(y,p)&&(q=y);var u=I.prototype=M.prototype=Object.create(q);function f(t){["next","throw","return"].forEach((function(o){_(t,o,(function(c){return this._invoke(o,c)}))}))}function g(t,o){function c(s,w,j,P){var A=D(t[s],t,w);if(A.type!=="throw"){var h=A.arg,V=h.value;return V&&typeof V=="object"&&N.call(V,"__await")?o.resolve(V.__await).then((function(F){c("next",F,j,P)}),(function(F){c("throw",F,j,P)})):o.resolve(V).then((function(F){h.value=F,j(h)}),(function(F){return c("throw",F,j,P)}))}P(A.arg)}var v;this._invoke=function(s,w){function j(){return new o((function(P,A){c(s,w,P,A)}))}return v=v?v.then(j,j):j()}}function J(t,o){var c=t.iterator[o.method];if(c===l){if(o.delegate=null,o.method==="throw"){if(t.iterator.return&&(o.method="return",o.arg=l,J(t,o),o.method==="throw"))return L;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return L}var v=D(c,t.iterator,o.arg);if(v.type==="throw")return o.method="throw",o.arg=v.arg,o.delegate=null,L;var s=v.arg;return s?s.done?(o[t.resultName]=s.value,o.next=t.nextLoc,o.method!=="return"&&(o.method="next",o.arg=l),o.delegate=null,L):s:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,L)}function E(t){var o={tryLoc:t[0]};1 in t&&(o.catchLoc=t[1]),2 in t&&(o.finallyLoc=t[2],o.afterLoc=t[3]),this.tryEntries.push(o)}function a(t){var o=t.completion||{};o.type="normal",delete o.arg,t.completion=o}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function m(t){if(t){var o=t[p];if(o)return o.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length)){var c=-1,v=function s(){for(;++c<t.length;)if(N.call(t,c))return s.value=t[c],s.done=!1,s;return s.value=l,s.done=!0,s};return v.next=v}}return{next:b}}function b(){return{value:l,done:!0}}return G.prototype=I,_(u,"constructor",I),_(I,"constructor",G),G.displayName=_(I,x,"GeneratorFunction"),r.isGeneratorFunction=function(t){var o=typeof t=="function"&&t.constructor;return!!o&&(o===G||(o.displayName||o.name)==="GeneratorFunction")},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,I):(t.__proto__=I,_(t,x,"GeneratorFunction")),t.prototype=Object.create(u),t},r.awrap=function(t){return{__await:t}},f(g.prototype),_(g.prototype,O,(function(){return this})),r.AsyncIterator=g,r.async=function(t,o,c,v,s){s===void 0&&(s=Promise);var w=new g(z(t,o,c,v),s);return r.isGeneratorFunction(o)?w:w.next().then((function(j){return j.done?j.value:w.next()}))},f(u),_(u,x,"Generator"),_(u,p,(function(){return this})),_(u,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var o=[];for(var c in t)o.push(c);return o.reverse(),function v(){for(;o.length;){var s=o.pop();if(s in t)return v.value=s,v.done=!1,v}return v.done=!0,v}},r.values=m,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(a),!t)for(var o in this)o.charAt(0)==="t"&&N.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function c(A,h){return w.type="throw",w.arg=t,o.next=A,h&&(o.method="next",o.arg=l),!!h}for(var v=this.tryEntries.length-1;v>=0;--v){var s=this.tryEntries[v],w=s.completion;if(s.tryLoc==="root")return c("end");if(s.tryLoc<=this.prev){var j=N.call(s,"catchLoc"),P=N.call(s,"finallyLoc");if(j&&P){if(this.prev<s.catchLoc)return c(s.catchLoc,!0);if(this.prev<s.finallyLoc)return c(s.finallyLoc)}else if(j){if(this.prev<s.catchLoc)return c(s.catchLoc,!0)}else{if(!P)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return c(s.finallyLoc)}}}},abrupt:function(t,o){for(var c=this.tryEntries.length-1;c>=0;--c){var v=this.tryEntries[c];if(v.tryLoc<=this.prev&&N.call(v,"finallyLoc")&&this.prev<v.finallyLoc){var s=v;break}}s&&(t==="break"||t==="continue")&&s.tryLoc<=o&&o<=s.finallyLoc&&(s=null);var w=s?s.completion:{};return w.type=t,w.arg=o,s?(this.method="next",this.next=s.finallyLoc,L):this.complete(w)},complete:function(t,o){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&o&&(this.next=o),L},finish:function(t){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.finallyLoc===t)return this.complete(c.completion,c.afterLoc),a(c),L}},catch:function(t){for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o];if(c.tryLoc===t){var v=c.completion;if(v.type==="throw"){var s=v.arg;a(c)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,c){return this.delegate={iterator:m(t),resultName:o,nextLoc:c},this.method==="next"&&(this.arg=l),L}},r})(e.exports);try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}},ye={};function R(e){var n=ye[e];if(n!==void 0)return n.exports;var r=ye[e]={exports:{}};return $e[e](r,r.exports,R),r.exports}R.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return R.d(n,{a:n}),n},R.d=(e,n)=>{for(var r in n)R.o(n,r)&&!R.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},R.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var Se={};function de(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,l=new Array(n);r<n;r++)l[r]=e[r];return l}function Oe(e,n){if(e){if(typeof e=="string")return de(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,n):void 0}}function ae(e){return(function(n){if(Array.isArray(n))return de(n)})(e)||(function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)})(e)||Oe(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function re(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}R.d(Se,{A:()=>Re});const i=(me={Fragment:()=>Ie,computed:()=>ne,createTextVNode:()=>Fe,createVNode:()=>$,defineComponent:()=>Ae,nextTick:()=>Ee,reactive:()=>Pe,ref:()=>X,watch:()=>je,watchEffect:()=>_e},se={},R.d(se,me),se),Je=(0,i.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,n=this.onClick;return(0,i.createVNode)("span",{class:"vjs-tree-brackets",onClick:n},[e])}}),Ke=(0,i.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,n){var r=n.emit;return{uiType:(0,i.computed)((function(){return e.isMultiple?"checkbox":"radio"})),model:(0,i.computed)({get:function(){return e.checked},set:function(l){return r("update:modelValue",l)}})}},render:function(){var e=this.uiType,n=this.model,r=this.$emit;return(0,i.createVNode)("label",{class:["vjs-check-controller",n?"is-checked":""],onClick:function(l){return l.stopPropagation()}},[(0,i.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(e)},null),(0,i.createVNode)("input",{checked:n,class:"vjs-check-controller-original is-".concat(e),type:e,onChange:function(){return r("change",n)}},null)])}}),Ge=(0,i.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var e=this.nodeType,n=this.onClick,r=e==="objectStart"||e==="arrayStart";return r||e==="objectCollapsed"||e==="arrayCollapsed"?(0,i.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(r?"open":"close"),onClick:n},[(0,i.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,i.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});var me,se;function fe(e){return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fe(e)}function Ve(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function Z(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=(arguments.length>3?arguments[3]:void 0)||{},C=l.key,N=l.index,T=l.type,p=T===void 0?"content":T,O=l.showComma,x=O!==void 0&&O,_=l.length,z=_===void 0?1:_,D=Ve(e);if(D==="array"){var U=ge(e.map((function(S,L,M){return Z(S,"".concat(n,"[").concat(L,"]"),r+1,{index:L,showComma:L!==M.length-1,length:z,type:p})})));return[Z("[",n,r,{showComma:!1,key:C,length:e.length,type:"arrayStart"})[0]].concat(U,Z("]",n,r,{showComma:x,length:e.length,type:"arrayEnd"})[0])}if(D==="object"){var K=Object.keys(e),H=ge(K.map((function(S,L,M){return Z(e[S],/^[a-zA-Z_]\w*$/.test(S)?"".concat(n,".").concat(S):"".concat(n,'["').concat(S,'"]'),r+1,{key:S,showComma:L!==M.length-1,length:z,type:p})})));return[Z("{",n,r,{showComma:!1,key:C,index:N,length:K.length,type:"objectStart"})[0]].concat(H,Z("}",n,r,{showComma:x,length:K.length,type:"objectEnd"})[0])}return[{content:e,level:r,key:C,index:N,path:n,showComma:x,length:z,type:p}]}function ge(e){if(typeof Array.prototype.flat=="function")return e.flat();for(var n=ae(e),r=[];n.length;){var l=n.shift();Array.isArray(l)?n.unshift.apply(n,ae(l)):r.push(l)}return r}function pe(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e==null)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(fe(e)!=="object")return e;if(n.get(e))return n.get(e);if(Array.isArray(e)){var r=e.map((function(N){return pe(N,n)}));return n.set(e,r),r}var l={};for(var C in e)l[C]=pe(e[C],n);return n.set(e,l),l}function be(e,n,r,l,C,N,T){try{var p=e[N](T),O=p.value}catch(x){return void r(x)}p.done?n(O):Promise.resolve(O).then(l,C)}var Ye=R(207),we=R.n(Ye);function ke(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(C){return Object.getOwnPropertyDescriptor(e,C).enumerable}))),r.push.apply(r,l)}return r}function xe(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ke(Object(r),!0).forEach((function(l){re(e,l,r[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))}))}return e}var Le={data:{type:[String,Number,Boolean,Array,Object],default:null},rootPath:{type:String,default:"root"},indent:{type:Number,default:2},showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,renderNodeActions:{type:[Boolean,Function],default:void 0},selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},theme:{type:String,default:"light"},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onNodeMouseover:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}};const qe=(0,i.defineComponent)({name:"TreeNode",props:xe(xe({},Le),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","nodeMouseover","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(e,n){var r=n.emit,l=(0,i.computed)((function(){return Ve(e.node.content)})),C=(0,i.computed)((function(){return"vjs-value vjs-value-".concat(l.value)})),N=(0,i.computed)((function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key})),T=(0,i.computed)((function(){return e.selectableType==="multiple"})),p=(0,i.computed)((function(){return e.selectableType==="single"})),O=(0,i.computed)((function(){return e.nodeSelectable(e.node)&&(T.value||p.value)})),x=(0,i.reactive)({editing:!1}),_=function(k){var y,u,f=(u=(y=k.target)===null||y===void 0?void 0:y.value)==="null"?null:u==="undefined"?void 0:u==="true"||u!=="false"&&(u[0]+u[u.length-1]==='""'||u[0]+u[u.length-1]==="''"?u.slice(1,-1):typeof Number(u)=="number"&&!isNaN(Number(u))||u==="NaN"?Number(u):u);r("valueChange",f,e.node.path)},z=(0,i.computed)((function(){var k,y=(k=e.node)===null||k===void 0?void 0:k.content;return y===null?y="null":y===void 0&&(y="undefined"),l.value==="string"?'"'.concat(y,'"'):y+""})),D=function(){var k=e.renderNodeValue;return k?k({node:e.node,defaultValue:z.value}):z.value},U=function(){r("bracketsClick",!e.collapsed,e.node)},K=function(){r("iconClick",!e.collapsed,e.node)},H=function(){r("selectedChange",e.node)},S=function(){r("nodeClick",e.node),O.value&&e.selectOnClickNode&&r("selectedChange",e.node)},L=function(){r("nodeMouseover",e.node)},M=function(k){if(e.editable&&!x.editing){x.editing=!0;var y=function u(f){var g;f.target!==k.target&&((g=f.target)===null||g===void 0?void 0:g.parentElement)!==k.target&&(x.editing=!1,document.removeEventListener("click",u))};document.removeEventListener("click",y),document.addEventListener("click",y)}},G=(function(){var k=(0,i.ref)(!1),y=(function(){var u,f=(u=we().mark((function g(J){return we().wrap((function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,navigator.clipboard.writeText(J);case 3:k.value=!0,setTimeout((function(){k.value=!1}),300),E.next=10;break;case 7:E.prev=7,E.t0=E.catch(0),console.error("[vue-json-pretty] Copy failed: ",E.t0);case 10:case"end":return E.stop()}}),g,null,[[0,7]])})),function(){var g=this,J=arguments;return new Promise((function(E,a){var d=u.apply(g,J);function m(t){be(d,E,a,m,b,"next",t)}function b(t){be(d,E,a,m,b,"throw",t)}m(void 0)}))});return function(g){return f.apply(this,arguments)}})();return{copy:y}})().copy,I=function(){var k=e.node,y=k.key,u=k.path,f=e.rootPath,g=new Function("data","return data".concat(u.slice(f.length)))(e.data),J=JSON.stringify(y?re({},y,g):g,null,2);G(J)},q=function(){var k=e.renderNodeActions;if(!k)return null;var y={copy:I};return typeof k=="function"?k({node:e.node,defaultActions:y}):(0,i.createVNode)("span",{onClick:I,class:"vjs-tree-node-actions-item"},[(0,i.createTextVNode)("copy")])};return function(){var k,y=e.node;return(0,i.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":e.showSelectController,"has-carets":e.showIcon,"is-highlight":e.highlightSelectedNode&&e.checked,dark:e.theme==="dark"},onClick:S,onMouseover:L,style:e.style},[e.showLineNumber&&(0,i.createVNode)("span",{class:"vjs-node-index"},[y.id+1]),e.showSelectController&&O.value&&y.type!=="objectEnd"&&y.type!=="arrayEnd"&&(0,i.createVNode)(Ke,{isMultiple:T.value,checked:e.checked,onChange:H},null),(0,i.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(y.level)).map((function(u,f){return(0,i.createVNode)("div",{key:f,class:{"vjs-indent-unit":!0,"has-line":e.showLine}},[Array.from(Array(e.indent)).map((function(){return(0,i.createVNode)(i.Fragment,null,[(0,i.createTextVNode)(" ")])}))])})),e.showIcon&&(0,i.createVNode)(Ge,{nodeType:y.type,onClick:K},null)]),y.key&&(0,i.createVNode)("span",{class:"vjs-key"},[(k=e.renderNodeKey,k?k({node:e.node,defaultKey:N.value||""}):N.value),(0,i.createVNode)("span",{class:"vjs-colon"},[":".concat(e.showKeyValueSpace?" ":"")])]),(0,i.createVNode)("span",null,[y.type!=="content"&&y.content?(0,i.createVNode)(Je,{data:y.content.toString(),onClick:U},null):(0,i.createVNode)("span",{class:C.value,onClick:!e.editable||e.editableTrigger&&e.editableTrigger!=="click"?void 0:M,onDblclick:e.editable&&e.editableTrigger==="dblclick"?M:void 0},[e.editable&&x.editing?(0,i.createVNode)("input",{value:z.value,onChange:_,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):D()]),y.showComma&&(0,i.createVNode)("span",null,[","]),e.showLength&&e.collapsed&&(0,i.createVNode)("span",{class:"vjs-comment"},[(0,i.createTextVNode)(" // "),y.length,(0,i.createTextVNode)(" items ")])]),e.renderNodeActions&&(0,i.createVNode)("span",{class:"vjs-tree-node-actions"},[q()])])}}});function Ce(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(C){return Object.getOwnPropertyDescriptor(e,C).enumerable}))),r.push.apply(r,l)}return r}function Y(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ce(Object(r),!0).forEach((function(l){re(e,l,r[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))}))}return e}const Re=(0,i.defineComponent)({name:"Tree",props:Y(Y({},Le),{},{collapsedNodeLength:{type:Number,default:1/0},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},dynamicHeight:{type:Boolean,default:!0},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function},theme:{type:String,default:"light"}}),slots:["renderNodeKey","renderNodeValue","renderNodeActions"],emits:["nodeClick","nodeMouseover","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(e,n){var r=n.emit,l=n.slots,C=(0,i.ref)(),N=(0,i.computed)((function(){return Z(e.data,e.rootPath)})),T=function(a,d){return N.value.reduce((function(m,b){var t,o=b.level>=a||b.length>=d,c=(t=e.pathCollapsible)===null||t===void 0?void 0:t.call(e,b);return b.type!=="objectStart"&&b.type!=="arrayStart"||!o&&!c?m:Y(Y({},m),{},re({},b.path,1))}),{})},p=(0,i.reactive)({translateY:0,visibleData:null,hiddenPaths:T(e.deep,e.collapsedNodeLength),startIndex:0,endIndex:0}),O=[],x=[],_=0,z={},D=function(a){O=Array(a).fill(0).map((function(){return e.itemHeight||20})),(x=new Array(a+1))[0]=0;for(var d=0;d<a;d++)x[d+1]=x[d]+O[d];_=x[a]||0},U=function(a){var d=O.length;a<0&&(a=0),a>d&&(a=d);for(var m=a;m<d;m++)x[m+1]=x[m]+O[m];_=x[d]||0},K=function(a,d){for(var m=0,b=a.length-1;m<b;){var t=m+b>>>1;a[t]<d?m=t+1:b=t}return m},H=(0,i.computed)((function(){for(var a=null,d=[],m=N.value.length,b=0;b<m;b++){var t=Y(Y({},N.value[b]),{},{id:b}),o=p.hiddenPaths[t.path];if(a&&a.path===t.path){var c=a.type==="objectStart",v=Y(Y(Y({},t),a),{},{showComma:t.showComma,content:c?"{...}":"[...]",type:c?"objectCollapsed":"arrayCollapsed"});a=null,d.push(v)}else{if(o&&!a){a=t;continue}if(a)continue;d.push(t)}}return d})),S=(0,i.computed)((function(){var a=e.selectedValue;return a&&e.selectableType==="multiple"&&Array.isArray(a)?a:[a]})),L=(0,i.computed)((function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."})),M=(0,i.computed)((function(){return e.dynamicHeight?_||0:H.value.length*e.itemHeight})),G=function a(){var d=H.value;if(d)if(e.virtual){var m,b=((m=C.value)===null||m===void 0?void 0:m.scrollTop)||0;if(e.dynamicHeight){O.length!==d.length&&D(d.length);var t=(function(A){var h=K(x,A+1e-4);return Math.max(0,Math.min(h-1,O.length-1))})(b),o=(function(A,h){var V=K(x,A+h);return Math.max(0,Math.min(V+1,O.length))})(b,e.height),c=Math.max(0,t-5),v=Math.min(d.length,o+5);p.startIndex=c,p.endIndex=v,p.translateY=x[c]||0,p.visibleData=d.slice(c,v),(0,i.nextTick)().then((function(){for(var A=!1,h=p.startIndex;h<p.endIndex;h++){var V=z[h];if(V){var F=V.offsetHeight;F&&O[h]!==F&&(O[h]=F,x[h+1]=x[h]+O[h],U(h+1),A=!0)}}A&&a()}))}else{var s=e.height/e.itemHeight,w=Math.floor(b/e.itemHeight),j=w<0?0:w+s>d.length?d.length-s:w;j<0&&(j=0);var P=j+s;p.translateY=j*e.itemHeight,p.startIndex=j,p.endIndex=P,p.visibleData=d.slice(j,P)}}else p.translateY=0,p.startIndex=0,p.endIndex=d.length,p.visibleData=d},I=null,q=function(){I&&cancelAnimationFrame(I),I=requestAnimationFrame((function(){G()}))},k=function(a){var d,m,b=a.path,t=e.selectableType;if(t==="multiple"){var o=S.value.findIndex((function(w){return w===b})),c=ae(S.value);o!==-1?c.splice(o,1):c.push(b),r("update:selectedValue",c),r("selectedChange",c,ae(S.value))}else if(t==="single"&&S.value[0]!==b){var v=(d=S.value,m=1,(function(w){if(Array.isArray(w))return w})(d)||(function(w,j){var P=w==null?null:typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(P!=null){var A,h,V=[],F=!0,ee=!1;try{for(P=P.call(w);!(F=(A=P.next()).done)&&(V.push(A.value),!j||V.length!==j);F=!0);}catch(oe){ee=!0,h=oe}finally{try{F||P.return==null||P.return()}finally{if(ee)throw h}}return V}})(d,m)||Oe(d,m)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})())[0],s=b;r("update:selectedValue",s),r("selectedChange",s,v)}},y=function(a){r("nodeClick",a)},u=function(a){r("nodeMouseover",a)},f=function(a,d){if(a)p.hiddenPaths=Y(Y({},p.hiddenPaths),{},re({},d,1));else{var m=Y({},p.hiddenPaths);delete m[d],p.hiddenPaths=m}},g=function(a,d){e.collapsedOnClickBrackets&&f(a,d.path),r("bracketsClick",a,d)},J=function(a,d){f(a,d.path),r("iconClick",a,d)},E=function(a,d){var m=pe(e.data),b=e.rootPath;new Function("data","val","data".concat(d.slice(b.length),"=val"))(m,a),r("update:data",m)};return(0,i.watchEffect)((function(){L.value&&(function(a){throw new Error("[VueJSONPretty] ".concat(a))})(L.value)})),(0,i.watchEffect)((function(){H.value&&(e.virtual&&e.dynamicHeight&&O.length!==H.value.length&&D(H.value.length),G())})),(0,i.watch)((function(){return[e.dynamicHeight,e.itemHeight,N.value.length]}),(function(){e.virtual&&e.dynamicHeight&&(D(H.value.length),(0,i.nextTick)(G))})),(0,i.watch)((function(){return e.deep}),(function(a){a&&(p.hiddenPaths=T(a,e.collapsedNodeLength))})),(0,i.watch)((function(){return e.collapsedNodeLength}),(function(a){a&&(p.hiddenPaths=T(e.deep,a))})),function(){var a,d,m,b,t,o=(a=e.renderNodeKey)!==null&&a!==void 0?a:l.renderNodeKey,c=(d=e.renderNodeValue)!==null&&d!==void 0?d:l.renderNodeValue,v=(m=(b=e.renderNodeActions)!==null&&b!==void 0?b:l.renderNodeActions)!==null&&m!==void 0&&m,s=(t=p.visibleData)===null||t===void 0?void 0:t.map((function(w,j){var P=p.startIndex+j;return(0,i.createVNode)("div",{key:w.id,ref:function(A){return(function(h,V){V?z[h]=V:delete z[h]})(P,A||null)}},[(0,i.createVNode)(qe,{data:e.data,rootPath:e.rootPath,indent:e.indent,node:w,collapsed:!!p.hiddenPaths[w.path],theme:e.theme,showDoubleQuotes:e.showDoubleQuotes,showLength:e.showLength,checked:S.value.includes(w.path),selectableType:e.selectableType,showLine:e.showLine,showLineNumber:e.showLineNumber,showSelectController:e.showSelectController,selectOnClickNode:e.selectOnClickNode,nodeSelectable:e.nodeSelectable,highlightSelectedNode:e.highlightSelectedNode,editable:e.editable,editableTrigger:e.editableTrigger,showIcon:e.showIcon,showKeyValueSpace:e.showKeyValueSpace,renderNodeKey:o,renderNodeValue:c,renderNodeActions:v,onNodeClick:y,onNodeMouseover:u,onBracketsClick:g,onIconClick:J,onSelectedChange:k,onValueChange:E,class:e.dynamicHeight?"dynamic-height":void 0,style:e.dynamicHeight?{}:e.itemHeight&&e.itemHeight!==20?{lineHeight:"".concat(e.itemHeight,"px")}:{}},null)])}));return(0,i.createVNode)("div",{ref:C,class:{"vjs-tree":!0,"is-virtual":e.virtual,dark:e.theme==="dark"},onScroll:e.virtual?q:void 0,style:e.showLineNumber?Y({paddingLeft:"".concat(12*Number(N.value.length.toString().length),"px")},e.style):e.style},[e.virtual?(0,i.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(e.height,"px")}},[(0,i.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(M.value,"px")}},[(0,i.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(p.translateY,"px)")}},[s])])]):s])}}});var Ue=Se.A;const Qe={class:"formatter-body"},Xe={class:"json-pane json-pane--input"},We={class:"pane-header"},Ze={class:"pane-actions"},et={class:"pane-editor"},tt={class:"json-pane json-pane--output"},nt={class:"pane-header"},rt={class:"toolbar"},ot={class:"font-controls"},at={class:"font-size-display"},lt={class:"pane-editor"},it={key:1,class:"empty-hint"},ct={key:0},ut={key:1,class:"empty-hint"},st={class:"pane-footer pane-footer--status"},dt={key:0,class:"error-text"},ft={key:1,class:"status-ok"},Ne=`{
  "name": "Json Tool",
  "version": "1.0.0",
  "features": ["format", "validate", "share"],
  "meta": {
    "updatedAt": "2025-10-27T00:00:00Z",
    "owner": "tools-team"
  }
}`,pt={__name:"JsonFormatterTool",setup(e){const n=X(Ne),r=X(""),l=X(""),C=X(!1),N=X(!0),T=X("json"),p=X(15),O=ne(()=>`${p.value}px`),{isDark:x}=ze(),_=ne(()=>({"tool-wrapper":!0,"tool-wrapper--dark":x.value,"tool-wrapper--light":!x.value})),z=u=>N.value?u:u.replace(/\\u([0-9a-fA-F]{4})/g,(f,g)=>String.fromCharCode(parseInt(g,16))),D=()=>{l.value="",r.value="";try{if(!n.value.trim())return;const u=JSON.parse(n.value),f=JSON.stringify(u,null,C.value?0:2);r.value=z(f)}catch(u){l.value=`解析失败：${u.message}`}};je([n,C,N],()=>{D()},{immediate:!0});const U=async()=>{if(r.value)try{await navigator.clipboard.writeText(r.value)}catch(u){console.error(u)}},K=()=>{n.value="",r.value="",l.value="",T.value="json"},H=()=>{n.value=Ne},S=ne(()=>{try{return n.value.trim()?JSON.parse(n.value):null}catch{return null}}),L=(u="")=>String(u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"),M=(u,f="item")=>{if(Array.isArray(u))return u.map(g=>M(g,f)).join("");if(u&&typeof u=="object"){const g=Object.entries(u).map(([J,E])=>M(E,J)).join("");return`<${f}>${g}</${f}>`}return u==null?`<${f}/>`:`<${f}>${L(u)}</${f}>`},G=ne(()=>S.value?`<?xml version="1.0" encoding="UTF-8"?>
${M(S.value,"root")}`:""),I=u=>{C.value!==u&&(C.value=u,D())},q=u=>{T.value=u},k=()=>{p.value<20&&(p.value+=1)},y=()=>{p.value>12&&(p.value-=1)};return(u,f)=>{const g=ce("v-btn"),J=ce("v-checkbox"),E=ce("v-sheet");return Q(),ie(E,{class:De(_.value),rounded:"xl",elevation:"0"},{default:Me(()=>[$(Te,{icon:"mdi-code-json",color:"cyan",title:"JSON 格式化",description:"一站式 JSON 所见即所得编辑体验，随时美化、压缩与分享。"}),B("div",Qe,[B("div",Xe,[B("div",We,[f[8]||(f[8]=B("div",{class:"pane-title"},"输入 JSON",-1)),B("div",Ze,[$(g,{variant:"text",icon:"mdi-refresh",size:"small",onClick:H}),$(g,{variant:"text",icon:"mdi-eraser",size:"small",onClick:K})])]),B("div",et,[$(he,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=a=>n.value=a),rows:22,"font-size":p.value,placeholder:"请输入 JSON 数据..."},null,8,["modelValue","font-size"])]),f[9]||(f[9]=B("div",{class:"pane-footer"},[B("span",null,"粘贴或直接输入 JSON，系统会自动校验并美化。")],-1))]),f[11]||(f[11]=B("div",{class:"pane-divider"},null,-1)),B("div",tt,[B("div",nt,[f[10]||(f[10]=B("div",{class:"pane-title"},"预览 / 导出",-1)),B("div",rt,[$(g,{variant:"text",icon:"mdi-format-line-spacing",size:"small",color:C.value?void 0:"cyan",onClick:f[1]||(f[1]=a=>I(!1)),title:"友好缩进"},null,8,["color"]),$(g,{variant:"text",icon:"mdi-format-wrap-tight",size:"small",color:C.value?"cyan":void 0,onClick:f[2]||(f[2]=a=>I(!C.value)),title:"单行压缩"},null,8,["color"]),$(g,{variant:"text",icon:"mdi-eraser",size:"small",onClick:K,title:"清空"}),$(g,{variant:"text",icon:"mdi-xml",size:"small",color:T.value==="xml"?"cyan":void 0,onClick:f[3]||(f[3]=a=>q("xml")),title:"转 XML"},null,8,["color"]),$(g,{variant:"text",icon:"mdi-file-tree",size:"small",color:T.value==="tree"?"cyan":void 0,onClick:f[4]||(f[4]=a=>q("tree")),title:"折叠视图"},null,8,["color"]),$(g,{variant:"text",icon:"mdi-code-braces",size:"small",color:T.value==="json"?"cyan":void 0,onClick:f[5]||(f[5]=a=>q("json")),title:"代码视图"},null,8,["color"]),$(g,{variant:"text",icon:"mdi-content-copy",size:"small",disabled:!r.value,onClick:U,title:"复制结果"},null,8,["disabled"]),$(J,{modelValue:N.value,"onUpdate:modelValue":f[6]||(f[6]=a=>N.value=a),density:"compact","hide-details":"",label:"保留转义",color:"cyan",class:"preserve-checkbox"},null,8,["modelValue"]),B("div",ot,[$(g,{variant:"text",icon:"mdi-format-font-size-decrease",size:"small",onClick:y,disabled:p.value<=12,title:"减小字体"},null,8,["disabled"]),B("span",at,ue(p.value)+"px",1),$(g,{variant:"text",icon:"mdi-format-font-size-increase",size:"small",onClick:k,disabled:p.value>=20,title:"增大字体"},null,8,["disabled"])])])]),B("div",lt,[T.value==="json"?(Q(),ie(he,{key:0,modelValue:r.value,"onUpdate:modelValue":f[7]||(f[7]=a=>r.value=a),rows:22,readonly:"","font-size":p.value,placeholder:"合法 JSON 将自动在此展示结果"},null,8,["modelValue","font-size"])):T.value==="tree"?(Q(),W("div",{key:1,class:"tree-wrapper",style:ve({fontSize:O.value})},[S.value?(Q(),ie(He(Ue),{key:0,data:S.value,deep:1,"show-length":!0,"selectable-type":"single"},null,8,["data"])):(Q(),W("div",it,"请先输入有效 JSON 数据"))],4)):(Q(),W("div",{key:2,class:"xml-output",style:ve({fontSize:O.value})},[G.value?(Q(),W("pre",ct,ue(G.value),1)):(Q(),W("div",ut,"请先输入有效 JSON 数据"))],4))]),B("div",st,[l.value?(Q(),W("span",dt,ue(l.value),1)):(Q(),W("span",ft,"实时格式化完成，可一键复制或分享"))])])])]),_:1},8,["class"])}}},gt=Be(pt,[["__scopeId","data-v-9bd26bf3"]]);export{gt as default};
